<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>View Courses | Tutor | Jnana</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
body {
    background: linear-gradient(120deg, #f0f4fd 0%, #f7d9e3 100%);
    font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
    margin: 0;
    padding: 0;
    min-height: 100vh;
}
.header {
    width: 100%;
    padding: 2rem 0 1rem 0;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
}
.tutor-profile {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 0.7rem;
    gap: 1rem;
}
.tutor-photo {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #e91e63;
    background: #fff;
    box-shadow: 0 2px 8px rgba(233,30,99,0.13);
}
.tutor-info {
    text-align: left;
}
.tutor-info .tutor-name {
    font-weight: 700;
    color: #e91e63;
    font-size: 1.15rem;
}
.tutor-info .tutor-role {
    color: #7c3aed;
    font-size: 0.97rem;
    font-weight: 500;
}
.header h1 {
    color: #e91e63;
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 0.3rem;
    letter-spacing: 1px;
    background: linear-gradient(90deg, #e91e63 40%, #7c3aed 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.header p {
    color: #2c3e50;
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}
.instructions {
    background: #fce4ec;
    color: #e91e63;
    border-radius: 8px;
    padding: 1rem 1.5rem;
    margin: 0 auto 1.5rem auto;
    max-width: 700px;
    font-size: 1rem;
    box-shadow: 0 2px 8px rgba(233,30,99,0.07);
    text-align: left;
    border-left: 4px solid #e91e63;
}
.course-description {
    background: #f8eafd;
    color: #2c3e50;
    border-radius: 8px;
    padding: 1.1rem 1.5rem;
    margin: 0 auto 1.5rem auto;
    max-width: 700px;
    font-size: 1.04rem;
    box-shadow: 0 2px 8px rgba(124,58,237,0.07);
    text-align: left;
}
.container {
    background: #fff;
    padding: 2.5rem 2rem 2rem 2rem;
    border-radius: 18px;
    box-shadow: 0 8px 32px rgba(233, 30, 99, 0.13);
    width: 100%;
    max-width: 900px;
    margin: 0 auto 2.5rem auto;
    animation: fadeIn 0.5s ease-out;
    position: relative;
}
@keyframes fadeIn {
    from { opacity:0; transform: translateY(-20px);}
    to { opacity: 1; transform: translateY(0);}
}
table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0 0 0;
    background: #f8eafd;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(124,58,237,0.07);
}
th, td {
    padding: 1rem 0.7rem;
    text-align: left;
    font-size: 1rem;
}
th {
    background: #e91e63;
    color: #fff;
    font-weight: 600;
    border-bottom: 2px solid #7c3aed;
}
tr {
    transition: background 0.2s;
}
tr:hover {
    background: #fce4ec;
}
td {
    color: #2d3a4b;
    vertical-align: middle;
}
.course-title {
    font-weight: 600;
    color: #e91e63;
    font-size: 1.08rem;
}
.badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 8px;
    font-size: 0.97rem;
    font-weight: 600;
    color: #fff;
}
.badge-paid {
    background: #eab308;
    color: #2d3a4b;
}
.badge-free {
    background: #22c55e;
}
.btn {
    padding: 8px 22px;
    border: none;
    border-radius: 30px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-weight: 500;
    color: white;
    text-decoration: none;
    display: inline-block;
}
.btn-primary {
    background: #e91e63;
}
.btn-secondary {
    background: #7c3aed;
}
.btn:hover {
    transform: translateY(-2px) scale(1.03);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.13);
}
.published-label {
    font-weight: 600;
    color: #22c55e;
    display: flex;
    align-items: center;
    gap: 6px;
}
.published-label i {
    color: #22c55e;
}
.action-bar {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    margin-bottom: 1.2rem;
}
.action-bar .btn {
    font-size: 0.98rem;
    padding: 8px 18px;
}
.back-btn {
    margin-top: 24px;
    background: #fce4ec;
    color: #e91e63;
    border: none;
    border-radius: 8px;
    padding: 10px 32px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s, color 0.2s;
}
.back-btn:hover {
    background: #e91e63;
    color: #fff;
}
.copyright {
    width: 100%;
    text-align: center;
    color: #888;
    font-size: 0.98rem;
    margin: 2rem 0 1rem 0;
    letter-spacing: 0.5px;
}
.toast {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 1rem 2rem;
    border-radius: 12px;
    color: white;
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform: translateX(100%);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    z-index: 1000;
}
.toast.success {
    background: #22c55e;
}
.toast.error {
    background: #e91e63;
}
.toast.show {
    opacity: 1;
    transform: translateX(0);
}
@media (max-width: 1000px) {
    .container, .instructions, .course-description { max-width: 98vw; padding: 18px 4vw 18px 4vw; }
    table, th, td { font-size: 0.97rem; }
}
@media (max-width: 700px) {
    table, thead, tbody, th, td, tr { display: block; }
    thead tr { display: none; }
    tr { margin-bottom: 18px; }
    td {
        padding: 10px 8px;
        border-bottom: 1px solid #fce4ec;
        position: relative;
    }
    td:before {
        content: attr(data-label);
        font-weight: 600;
        color: #e91e63;
        display: block;
        margin-bottom: 4px;
    }
}
</style>
</head>
<body>
    <div class="header">
        <div class="tutor-profile">
            <img class="tutor-photo" src="/images/tutor-profile.png" alt="Tutor Photo" onerror="this.src='https://ui-avatars.com/api/?name=Tutor&background=e91e63&color=fff';">
            <div class="tutor-info">
                <div class="tutor-name" th:text="${session.tutor != null ? session.tutor.name : 'Tutor Name'}">Tutor Name</div>
                <div class="tutor-role"><i class="fa fa-chalkboard-teacher"></i> Tutor</div>
            </div>
        </div>
        <h1><i class="fa fa-book"></i> All Your Courses</h1>
        <p>Manage and publish your courses for learners on Jnana.</p>
    </div>
    <div class="instructions">
        <strong>Instructions:</strong>
        <ul style="margin:6px 0 0 18px;padding:0;font-size:0.98rem;">
            <li>Review your courses below. Use <b>Publish</b> to make a course live for learners.</li>
            <li>Published courses are visible to all learners on the platform.</li>
            <li>Paid/Free status is shown for each course.</li>
            <li>Keep your course content up to date and engaging for better reviews and growth.</li>
            <li>Use <b>Edit</b> to update course details or <b>Delete</b> to remove a course.</li>
        </ul>
    </div>
    <div class="course-description">
        <b>About Your Courses:</b>
        <p>
            Here you can view all the courses you have created. Each course can be marked as <b>Paid</b> or <b>Free</b> and published for learners to access.
            Publishing your course makes it visible to thousands of eager learners on Jnana.
            Keep your course content up to date and engaging to receive better reviews and grow your teaching reputation!
        </p>
    </div>
    <div class="container">
        <div class="action-bar">
            <a href="/tutor/add-course" class="btn btn-primary"><i class="fa fa-plus"></i> Add Course</a>
            <a href="/tutor/courses" class="btn btn-secondary"><i class="fa fa-arrow-left"></i> Back</a>
        </div>
        <div id="successToast" class="toast success" th:if="${session.pass}" th:text="${session.pass}"></div>
        <div id="errorToast" class="toast error" th:if="${session.fail}" th:text="${session.fail}"></div>
        <th:block th:text="${@generalService.removeMessage()}"></th:block>
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Type</th>
                    <th>Status / Action</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="course : ${courses}">
                    <td data-label="Title">
                        <span class="course-title" th:text="${course.title}"></span>
                    </td>
                    <td data-label="Description" th:text="${course.description}"></td>
                    <td data-label="Type">
                        <span th:if="${course.paid}" class="badge badge-paid"><i class="fa fa-rupee-sign"></i> Paid</span>
                        <span th:if="${!course.paid}" class="badge badge-free"><i class="fa fa-gift"></i> Free</span>
                    </td>
                    <td data-label="Status / Action">
                        <span th:if="${course.published != null and course.published}" class="published-label">
                            <i class="fa fa-check-circle"></i> Published
                        </span>
                        <a th:if="${course.published == null or !course.published}" th:href="'/tutor/publish/'+${course.id}">
                            <button class="btn btn-primary"><i class="fa fa-upload"></i> Publish</button>
                        </a>
                        <a th:href="'/tutor/edit-course/'+${course.id}">
                            <button class="btn btn-secondary"><i class="fa fa-edit"></i> Edit</button>
                        </a>
                        <a th:href="'/tutor/delete-course/'+${course.id}" onclick="return confirm('Are you sure you want to delete this course?');">
                            <button class="btn btn-primary" style="background:#f44336;"><i class="fa fa-trash"></i> Delete</button>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="copyright">
        &copy; 2025 Jnana E-Learning Platform. All rights reserved.
    </div>
    <script>
        function showToast() {
            const successToast = document.getElementById('successToast');
            const errorToast = document.getElementById('errorToast');
            [successToast, errorToast].forEach(toast => {
                if (toast && toast.textContent.trim() !== '') {
                    toast.classList.add('show');
                    setTimeout(() => {
                        toast.classList.remove('show');
                    }, 2000);
                }
            });
        }
        document.addEventListener('DOMContentLoaded', showToast);
    </script>
</body>
</html>